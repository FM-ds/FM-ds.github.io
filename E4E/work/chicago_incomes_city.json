{"$schema": "https://vega.github.io/schema/vega-lite/v5.json", "data": {"url": "https://raw.githubusercontent.com/RDeconomist/data/main/e4e3/Chicago_counties_incomes.json"}, "title": {"text": "Chicago Area Median Incomes", "subtitle": ["Median Individual Income, Workers Only ", " 2021 Prices, source: Census", ""], "fontSize": 16, "subtitleFontStyle": "italic", "subtitleFontSize": 12, "anchor": "start", "color": "black"}, "hconcat": [{"width": 380, "height": 400, "data": {"url": "https://raw.githubusercontent.com/RDeconomist/data/main/e4e3/Chicago_wards_incomes.json"}, "transform": [{"filter": {"field": "tract", "oneOf": [842400, 840300, 841100, 841200, 839000, 838200, 650301, 530503, 760803, 30601, 30604, 20801, 540102, 843300, 540101, 440201, 80202, 70102, 31501, 31502, 834900, 834800, 160502, 140702, 842000, 150402, 834400, 40201, 40202, 20702, 20802, 20301, 838700, 20601, 841500, 838600, 837300, 20602, 63301, 837800, 837400, 836900, 20302, 20902, 10701, 30103, 63303, 30102, 10502, 10503, 10702, 837100, 837000, 10201, 20901, 40401, 210602, 160501, 191302, 190602, 840200, 530501, 20701, 831400, 831300, 10501, 833000, 760801, 252101, 252102, 252202, 220601, 210502, 220602, 220901, 220902, 200401, 200402, 191301, 190601, 190701, 190702, 190401, 190402, 832100, 842800, 351500, 980100, 833300, 832900, 838000, 838100, 30706, 381500, 833100, 839100, 81201, 150401, 150501, 843000, 842100, 841900, 80201, 70101, 81202, 40402, 220702, 140301, 835000, 842300, 230200, 835100, 834700, 151001, 151002, 160602, 140601, 140701, 140602, 390500, 841800, 842600, 843500, 843400, 140302, 110501, 390400, 843200, 840800, 110502, 760802, 150502, 843100, 834300, 843900, 831200, 831600, 831500, 831100, 831700, 271500, 440202, 440102, 430102, 30702, 30603, 30701, 836300, 838300, 839800, 836600, 730202, 430101, 63302, 836200, 71400, 840100, 580502, 841400, 81401, 81403, 30703, 836000, 835800, 835900, 834500, 580501, 834600, 831800, 71600, 832600, 61901, 839900, 30104, 839700, 835200, 833900, 836800, 838800, 836700, 832200, 252201, 831000, 832400, 70103, 220701, 841600, 770902, 660301, 660302, 301802, 834000, 834200, 730201, 835500, 839500, 839200, 530502, 840400, 841000, 30101, 700302, 700402, 700401, 830500, 841700, 640100, 840700, 841300, 301801, 60800, 832300, 832500, 832000, 160601, 210501, 210601, 81300, 700502, 836100, 835700, 61100, 836400, 836500, 839600, 840000, 835600, 830800, 460301, 301701, 310400, 530100, 81100, 150700, 301702, 700301, 490902, 61800, 490901, 650302, 831900, 830600, 830900, 830700, 300900, 700501, 460302, 431302, 222900, 431301, 440101, 301803, 310200, 310300, 310500, 510300, 491400, 500200, 530200, 740100, 140500, 140800, 301100, 150200, 150300, 301200, 740400, 20400, 640300, 640600, 10400, 71800, 160300, 310700, 71500, 71700, 671200, 670500, 670600, 670700, 670800, 670900, 671100, 671300, 671400, 671500, 671600, 670100, 230500, 230600, 240600, 241000, 191000, 80300, 300800, 650200, 660500, 221400, 161000, 340600, 240500, 240700, 240800, 240900, 241100, 190300, 190800, 190900, 191100, 191200, 80100, 80400, 81000, 150600, 301600, 20500, 821402, 750300, 640800, 750100, 740200, 650400, 650500, 660600, 221100, 221300, 221500, 20100, 221600, 160800, 160900, 222800, 161100, 161200, 161300, 650100, 330200, 420600, 420700, 661000, 823304, 10100, 230300, 640400, 640500, 640700, 151200, 310800, 660400, 670400, 340400, 420800, 421200, 661100, 222500, 190200, 390600, 10300, 10600, 20200, 150800, 151100, 230100, 160100, 160200, 160400, 310600, 310900, 320400, 61500, 320600, 740300, 660700, 222700, 221200, 160700, 222200, 340500, 330100, 340300, 350400, 750500, 750400, 750200, 430200, 660800, 660900, 670200, 670300, 222600, 230400, 170400, 380700, 381900, 390200, 171000, 180100, 390300, 390700, 400300, 400400, 400500, 400800, 410100, 440300, 440700, 430800, 671800, 680500, 681100, 200100, 410200, 680600, 170600, 380500, 381700, 430300, 430700, 430900, 431200, 431400, 230800, 231100, 170900, 210100, 420200, 420300, 440600, 440800, 440900, 560400, 450300, 671900, 672000, 680900, 681000, 240200, 240300, 200200, 410500, 410600, 170100, 170200, 170300, 381800, 170500, 351400, 381200, 381400, 390100, 430400, 430500, 430600, 230700, 230900, 231200, 170700, 170800, 171100, 190100, 242200, 200300, 210400, 220300, 210700, 210800, 210900, 420100, 420400, 420500, 691300, 31700, 470100, 480100, 691000, 242300, 411100, 460400, 681200, 690500, 241400, 241500, 241600, 242000, 243300, 491200, 480300, 710800, 711300, 10202, 480200, 480400, 480500, 241200, 691100, 691200, 691400, 51200, 691500, 700100, 410700, 410800, 410900, 411000, 411200, 530600, 460100, 460200, 460500, 460600, 460700, 241300, 461000, 681300, 681400, 60100, 690300, 690400, 690900, 60200, 242100, 243100, 243200, 611600, 243400, 243500, 711100, 250200, 491000, 491100, 710100, 510100, 510200, 710300, 520200, 710900, 711000, 711200, 711400, 81402, 710600, 61902, 30200, 30300, 30400, 30500, 30800, 242400, 242500, 242600, 242700, 242800, 242900, 243000, 220400, 220500, 31800, 221000, 810400, 31900, 520500, 720500, 490300, 490400, 350100, 351100, 251200, 570100, 30900, 250600, 560100, 32100, 490500, 490600, 490700, 490800, 700200, 710200, 710400, 710500, 710700, 251000, 280400, 320100, 580800, 351000, 360200, 380100, 231500, 251100, 550200, 560800, 560900, 500300, 561000, 561100, 570200, 730400, 730500, 730600, 730700, 250300, 250400, 250500, 250700, 250800, 520300, 520600, 560200, 560300, 560700, 711500, 720600, 31000, 580300, 50500, 50800, 51000, 51400, 81900, 252000, 260300, 40300, 40800, 50100, 50200, 50300, 380200, 600400, 81500, 720100, 720200, 720300, 720700, 730100, 730300, 31100, 31200, 31300, 31400, 570500, 580100, 580200, 60300, 580400, 580600, 530300, 51300, 500100, 50600, 50700, 50900, 51100, 81800, 90100, 90200, 90300, 100100, 260200, 100200, 260100, 62400, 491300, 720400, 530400, 63400, 750600, 40100, 40600, 40700, 40900, 980000, 81600, 81700, 251300, 251400, 251500, 251900, 260700, 600900, 611200, 62800, 62900, 63000, 63100, 63200, 110200, 251600, 251700, 251800, 570300, 570400, 100600, 62200, 100700, 261000, 62600, 110100, 260900, 270500, 520100, 611400, 610300, 610800, 611000, 62700, 120300, 271800, 520400, 260500, 260600, 580700, 61200, 590500, 590600, 590700, 600600, 600700, 60400, 60500, 60900, 61000, 62000, 62100, 260400, 260800, 630800, 100300, 100400, 100500, 283100, 271200, 610400, 611100, 611300, 62300, 62500, 70700, 71100, 71300, 140200, 70600, 120400, 130100, 130200, 140100, 283200, 140400, 292400, 282700, 292500, 300600, 300700, 282800, 283800, 290900, 291600, 630200, 271300, 280900, 611700, 612100, 70300, 300500, 291200, 620300, 620400, 630100, 630300, 630400, 630500, 110300, 110400, 280100, 120100, 280800, 120200, 271400, 71000, 281900, 550100, 71200, 611500, 611800, 611900, 612000, 620100, 620200, 70200, 70400, 70500, 130300, 292200, 630900]}}, {"filter": {"param": "index"}}, {"lookup": "tract", "from": {"data": {"url": "https://raw.githubusercontent.com/RDeconomist/data/main/e4e3/chicago_tracts.topojson", "format": {"type": "topojson", "feature": "chicago_tracts"}}, "key": "properties.TRACTCE", "fields": ["properties", "type", "geometry"]}}], "projection": {"type": "mercator"}, "mark": "geoshape", "encoding": {"color": {"field": "Real Income", "scale": {"scheme": "yellowgreenblue", "domain": [0, 130000]}, "type": "quantitative", "legend": {"format": "$s", "orient": "none", "title": "Median Income", "legendX": 0, "legendY": 0}}, "tooltip": [{"field": "County_Name", "type": "nominal", "title": "County"}, {"field": "Real Income", "type": "nominal", "format": "$,.2f", "title": "Median Income"}, {"field": "tract", "title": "Census Tract"}]}}, {"width": 500, "height": 400, "layer": [{"params": [{"name": "index", "value": [{"x": 2012}], "select": {"type": "point", "encodings": ["x"], "on": "mouseover", "nearest": true}}], "transform": [{"filter": "datum.Year > 2009 & datum.Year != 2015 & datum.Year<2021"}], "mark": "point", "encoding": {"x": {"field": "Year"}, "opacity": {"value": 0}}}, {"mark": {"type": "line", "point": true}, "encoding": {"x": {"field": "Year"}, "y": {"field": "Real Income", "type": "quantitative", "scale": {"zero": false}}, "color": {"condition": [{"test": "datum['NAME'] == 'Cook County'", "value": "rgb(81,157,188)"}], "field": "NAME", "scale": {"range": ["rgb(200,200,200)"]}, "legend": null}, "opacity": {"value": 1}}}, {"transform": [{"filter": {"param": "index"}}], "encoding": {"x": {"field": "Year"}, "color": {"value": "black"}}, "layer": [{"mark": {"type": "rule", "strokeWidth": 0.5}}, {"mark": {"type": "text", "align": "center", "fontWeight": 100}, "encoding": {"text": {"field": "Year"}, "y": {"value": -10}}}]}, {"transform": [{"filter": "datum.Year==2021"}], "encoding": {"x": {"field": "Year", "axis": {"title": null}}, "y": {"field": "Real Income", "type": "quantitative", "scale": {"zero": false}, "axis": {"title": "Real Income (2021 $)"}}, "color": {"condition": [{"test": "datum['NAME'] == 'Cook County'", "value": "rgb(81,157,188)"}], "field": "Region name", "scale": {"range": ["rgb(200,200,200)"]}, "legend": null}, "opacity": {"value": 1}, "text": {"field": "NAME"}}, "mark": {"type": "text", "align": "left", "dx": 5}}]}]}